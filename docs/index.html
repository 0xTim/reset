<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Reset  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="Reset  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">Reset Docs</a> (24% documented)</p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">Reset Reference</a>
        <img id="carat" src="img/carat.png" />
        Reset  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/ResetConfigTag.html">ResetConfigTag</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ResetConfigTagData.html">ResetConfigTagData</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ResetController.html">ResetController</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ResetProvider.html">ResetProvider</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/ResetError.html">ResetError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/ResetPasswordContext.html">ResetPasswordContext</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/LeafTagConfig.html">LeafTagConfig</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/Router.html">Router</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/HasPasswordChangeCount.html">HasPasswordChangeCount</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/HasRequestResetPasswordContext.html">HasRequestResetPasswordContext</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/ModelPayloadType.html">ModelPayloadType</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/PasswordResettable.html">PasswordResettable</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/ResetControllerType.html">ResetControllerType</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/GeneratePasswordResetTokenCommand.html">GeneratePasswordResetTokenCommand</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ModelPayload.html">ModelPayload</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PasswordChangeCountClaim.html">PasswordChangeCountClaim</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ResetConfig.html">ResetConfig</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ResetEndpoints.html">ResetEndpoints</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ResetResponses.html">ResetResponses</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='reset' class='heading'>Reset üè≥</h1>

<p><a href="http://swift.org"><img src="https://img.shields.io/badge/Swift-4.2-brightgreen.svg" alt="Swift Version"></a>
<a href="http://vapor.codes"><img src="https://img.shields.io/badge/Vapor-3-30B6FC.svg" alt="Vapor Version"></a>
<a href="https://circleci.com/gh/nodes-vapor/reset"><img src="https://circleci.com/gh/nodes-vapor/reset/tree/master.svg?style=shield" alt="Circle CI"></a>
<a href="https://codebeat.co/projects/github-com-nodes-vapor-reset-master"><img src="https://codebeat.co/badges/06ad8513-8a2d-4e68-acd7-16c2953f9326" alt="codebeat badge"></a>
<a href="https://codecov.io/gh/nodes-vapor/reset"><img src="https://codecov.io/gh/nodes-vapor/reset/branch/master/graph/badge.svg" alt="codecov"></a>
<a href="http://clayallsopp.github.io/readme-score?url=https://github.com/nodes-vapor/reset"><img src="http://readme-score-api.herokuapp.com/score.svg?url=https://github.com/nodes-vapor/reset" alt="Readme Score"></a>
<a href="https://raw.githubusercontent.com/nodes-vapor/reset/master/LICENSE"><img src="https://img.shields.io/badge/license-MIT-blue.svg" alt="GitHub license"></a></p>

<p>This package makes it easy to handle flows that involves resetting a password. It&rsquo;s up for the consumer to decide how to distribute the token that allows one to reset the password.</p>
<h2 id='installation' class='heading'>üì¶ Installation</h2>

<p>Add <code>Reset</code> to the package dependencies (in your <code>Package.swift</code> file):</p>
<pre class="highlight swift"><code><span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span>
    <span class="o">...</span><span class="p">,</span>
    <span class="o">.</span><span class="nf">package</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="s">"https://github.com/nodes-vapor/reset.git"</span><span class="p">,</span> <span class="nv">from</span><span class="p">:</span> <span class="s">"1.0.0-rc"</span><span class="p">)</span>
<span class="p">]</span>
</code></pre>

<p>as well as to your target (e.g. <q>App</q>):</p>
<pre class="highlight swift"><code><span class="nv">targets</span><span class="p">:</span> <span class="p">[</span>
    <span class="o">...</span>
    <span class="o">.</span><span class="nf">target</span><span class="p">(</span>
        <span class="nv">name</span><span class="p">:</span> <span class="s">"App"</span><span class="p">,</span>
        <span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span><span class="o">...</span> <span class="s">"Reset"</span> <span class="o">...</span><span class="p">]</span>
    <span class="p">),</span>
    <span class="o">...</span>
<span class="p">]</span>
</code></pre>

<p>Next, copy/paste the <code>Resources/Views/Reset</code> folder into your project in order to be able to use the provided Leaf files. These files can be changed as explained in the <a href="#specifying-the-responses">Specifying the responses</a> section, however it&rsquo;s recommended to copy this folder to your project anyway. This makes it easier for you to keep track of updates and your project will work if you decide later on to not use your own customized leaf files.</p>
<h2 id='getting-started' class='heading'>Getting started üöÄ</h2>

<p>First make sure that you&rsquo;ve imported Reset everywhere it&rsquo;s needed:</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">Reset</span>
</code></pre>
<h3 id='adding-the-provider' class='heading'>Adding the Provider</h3>

<p>Reset comes with a light-weight provider that we&rsquo;ll need to register in the <code>configure</code> function in our <code>configure.swift</code> file:</p>
<pre class="highlight swift"><code><span class="k">try</span> <span class="n">services</span><span class="o">.</span><span class="nf">register</span><span class="p">(</span><span class="kt">ResetProvider</span><span class="o">&lt;</span><span class="kt">User</span><span class="o">&gt;</span><span class="p">(</span><span class="nv">config</span><span class="p">:</span> <span class="kt">ResetConfig</span><span class="p">(</span>
        <span class="nv">name</span><span class="p">:</span> <span class="kt">AppConfig</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="nv">baseURL</span><span class="p">:</span> <span class="kt">AppConfig</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
        <span class="nv">signer</span><span class="p">:</span> <span class="kt">ExpireableJWTSigner</span><span class="p">(</span>
            <span class="nv">expirationPeriod</span><span class="p">:</span> <span class="mi">3600</span><span class="p">,</span> <span class="c1">// 1 hour</span>
            <span class="nv">signer</span><span class="p">:</span> <span class="o">.</span><span class="nf">hs256</span><span class="p">(</span>
                <span class="nv">key</span><span class="p">:</span> <span class="nf">env</span><span class="p">(</span><span class="kt">EnvironmentKey</span><span class="o">.</span><span class="kt">Reset</span><span class="o">.</span><span class="n">signerKey</span><span class="p">,</span> <span class="s">"secret-reset"</span>
            <span class="p">)</span><span class="o">.</span><span class="nf">convertToData</span><span class="p">())</span>
        <span class="p">)</span>
    <span class="p">))</span>
<span class="p">)</span>
</code></pre>

<p>Please see <a href="#making-a-passwordresettable-model">Making a <code><a href="Protocols/PasswordResettable.html">PasswordResettable</a></code> model</a> for more information on confirming a type to <code><a href="Protocols/PasswordResettable.html">PasswordResettable</a></code>.</p>
<h3 id='adding-the-reset-routes' class='heading'>Adding the Reset routes</h3>

<p>Make sure to add the relevant Reset routes, e.g. in your configure.swift or routes.swift:</p>
<pre class="highlight swift"><code><span class="n">services</span><span class="o">.</span><span class="nf">register</span><span class="p">(</span><span class="kt">Router</span><span class="o">.</span><span class="k">self</span><span class="p">)</span> <span class="p">{</span> <span class="n">container</span> <span class="o">-&gt;</span> <span class="kt">EngineRouter</span> <span class="k">in</span>
    <span class="k">let</span> <span class="nv">router</span> <span class="o">=</span> <span class="kt">EngineRouter</span><span class="o">.</span><span class="nf">default</span><span class="p">()</span>
    <span class="k">try</span> <span class="n">router</span><span class="o">.</span><span class="nf">useResetRoutes</span><span class="p">(</span><span class="kt">User</span><span class="o">.</span><span class="k">self</span><span class="p">,</span> <span class="nv">on</span><span class="p">:</span> <span class="n">container</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">router</span>
<span class="p">}</span>
</code></pre>
<h3 id='adding-the-leaf-tag' class='heading'>Adding the Leaf tag</h3>

<p>This package comes with a small Leaf tag that is used to pass Reset-related information such as project name and project url to Leaf. To add it to your project, please do the following:</p>
<pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">configure</span><span class="p">(</span><span class="n">_</span> <span class="nv">config</span><span class="p">:</span> <span class="k">inout</span> <span class="kt">Config</span><span class="p">,</span> <span class="n">_</span> <span class="nv">env</span><span class="p">:</span> <span class="k">inout</span> <span class="kt">Environment</span><span class="p">,</span> <span class="n">_</span> <span class="nv">services</span><span class="p">:</span> <span class="k">inout</span> <span class="kt">Services</span><span class="p">)</span> <span class="k">throws</span> <span class="p">{</span>
    <span class="n">services</span><span class="o">.</span><span class="n">register</span> <span class="p">{</span> <span class="n">_</span> <span class="o">-&gt;</span> <span class="kt">LeafTagConfig</span> <span class="k">in</span>
        <span class="k">var</span> <span class="nv">tags</span> <span class="o">=</span> <span class="kt">LeafTagConfig</span><span class="o">.</span><span class="nf">default</span><span class="p">()</span>
        <span class="n">tags</span><span class="o">.</span><span class="nf">useResetLeafTags</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">tags</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h2 id='making-a-code-passwordresettable-code-model' class='heading'>Making a <code><a href="Protocols/PasswordResettable.html">PasswordResettable</a></code> model</h2>

<p>There&rsquo;s a couple of things that needs to be in place for conforming your model to <code><a href="Protocols/PasswordResettable.html">PasswordResettable</a></code>. The following example is based on having a <code>User</code> model which you would like to add support for resetting a password.</p>
<h3 id='request-and-reset-structs' class='heading'>Request and reset structs</h3>

<p>The first thing to define is the data that is needed in order to request a reset password flow and the data for actually resetting the password. It could look like this:</p>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">User</span><span class="p">:</span> <span class="kt">PasswordResettable</span> <span class="p">{</span>
    <span class="c1">// ...</span>

    <span class="kd">public</span> <span class="kd">struct</span> <span class="kt">RequestReset</span><span class="p">:</span> <span class="kt">RequestCreatable</span><span class="p">,</span> <span class="kt">Decodable</span><span class="p">,</span> <span class="kt">HasReadableUsername</span> <span class="p">{</span>
        <span class="kd">static</span> <span class="k">let</span> <span class="nv">readableUsernameKey</span> <span class="o">=</span> <span class="err">\</span><span class="kt">RequestReset</span><span class="o">.</span><span class="n">username</span>
        <span class="kd">public</span> <span class="k">let</span> <span class="nv">username</span><span class="p">:</span> <span class="kt">String</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">struct</span> <span class="kt">ResetPassword</span><span class="p">:</span> <span class="kt">RequestCreatable</span><span class="p">,</span> <span class="kt">Decodable</span><span class="p">,</span> <span class="kt">HasReadablePassword</span> <span class="p">{</span>
        <span class="kd">static</span> <span class="k">let</span> <span class="nv">readablePasswordKey</span> <span class="o">=</span> <span class="err">\</span><span class="kt">ResetPassword</span><span class="o">.</span><span class="n">password</span>
        <span class="kd">public</span> <span class="k">let</span> <span class="nv">password</span><span class="p">:</span> <span class="kt">String</span>
    <span class="p">}</span>

    <span class="c1">// ..</span>
<span class="p">}</span>
</code></pre>

<p>Basically the username (this could also be the email) is needed to request a reset flow and a new password is needed to submit the password change.</p>

<blockquote>
<p>Note how that <code>RequestReset</code> conforms to <code>HasReadableUsername</code>. This enables Reset to implement the <code>find</code> method for looking up the user automatically.</p>
</blockquote>
<h3 id='sending-the-reset-password-url' class='heading'>Sending the reset-password url</h3>

<p>Once the user has requested to reset their password, the <code>sendPasswordReset</code> function will be called. The implementation could send the url by email or just include the token in a text message. It&rsquo;s up to the implementer to decide how to distribute this.</p>

<p>Here&rsquo;s an example using the <a href="https://github.com/twof/VaporMailgunService">Mailgun</a> package to send out an email with the reset password url:</p>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">User</span><span class="p">:</span> <span class="kt">PasswordResettable</span> <span class="p">{</span>
    <span class="c1">// ...</span>

    <span class="kd">public</span> <span class="kd">func</span> <span class="nf">sendPasswordReset</span><span class="p">(</span>
        <span class="nv">url</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span>
        <span class="nv">token</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span>
        <span class="nv">expirationPeriod</span><span class="p">:</span> <span class="kt">TimeInterval</span><span class="p">,</span>
        <span class="nv">context</span><span class="p">:</span> <span class="kt">ResetPasswordContext</span><span class="p">,</span>
        <span class="n">on</span> <span class="nv">req</span><span class="p">:</span> <span class="kt">Request</span>
    <span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt">Void</span><span class="o">&gt;</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">mailgun</span> <span class="o">=</span> <span class="k">try</span> <span class="n">req</span><span class="o">.</span><span class="nf">make</span><span class="p">(</span><span class="kt">Mailgun</span><span class="o">.</span><span class="k">self</span><span class="p">)</span>
        <span class="k">let</span> <span class="nv">expire</span> <span class="o">=</span> <span class="kt">Int</span><span class="p">(</span><span class="n">expirationPeriod</span> <span class="o">/</span> <span class="mi">60</span><span class="p">)</span> <span class="c1">// convert to minutes</span>

        <span class="k">return</span> <span class="k">try</span> <span class="n">req</span>
            <span class="o">.</span><span class="nf">make</span><span class="p">(</span><span class="kt">LeafRenderer</span><span class="o">.</span><span class="k">self</span><span class="p">)</span>
            <span class="o">.</span><span class="nf">render</span><span class="p">(</span><span class="kt">ViewPath</span><span class="o">.</span><span class="kt">Reset</span><span class="o">.</span><span class="n">resetPasswordEmail</span><span class="p">,</span> <span class="p">[</span><span class="s">"url"</span><span class="p">:</span> <span class="n">url</span><span class="p">,</span> <span class="s">"expire"</span><span class="p">:</span> <span class="n">expire</span><span class="p">])</span>
            <span class="o">.</span><span class="nf">map</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="kt">String</span><span class="o">.</span><span class="k">self</span><span class="p">)</span> <span class="p">{</span> <span class="n">view</span> <span class="k">in</span>
                <span class="kt">String</span><span class="p">(</span><span class="nv">bytes</span><span class="p">:</span> <span class="n">view</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="nv">encoding</span><span class="p">:</span> <span class="o">.</span><span class="n">utf8</span><span class="p">)</span> <span class="p">??</span> <span class="s">""</span>
            <span class="p">}</span>
            <span class="o">.</span><span class="nf">map</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="kt">Mailgun</span><span class="o">.</span><span class="kt">Message</span><span class="o">.</span><span class="k">self</span><span class="p">)</span> <span class="p">{</span> <span class="n">html</span> <span class="k">in</span>
                <span class="kt">Mailgun</span><span class="o">.</span><span class="kt">Message</span><span class="p">(</span>
                    <span class="nv">from</span><span class="p">:</span> <span class="s">"donotreply@reset.com"</span><span class="p">,</span>
                    <span class="nv">to</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="n">email</span><span class="p">,</span>
                    <span class="nv">subject</span><span class="p">:</span> <span class="s">"Reset password"</span><span class="p">,</span>
                    <span class="nv">text</span><span class="p">:</span> <span class="s">"Please turn on html to view this email."</span><span class="p">,</span>
                    <span class="nv">html</span><span class="p">:</span> <span class="n">html</span>
                <span class="p">)</span>
            <span class="p">}</span>
            <span class="o">.</span><span class="nf">flatMap</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="kt">Response</span><span class="o">.</span><span class="k">self</span><span class="p">)</span> <span class="p">{</span> <span class="n">message</span> <span class="k">in</span>
                <span class="k">try</span> <span class="n">mailgun</span><span class="o">.</span><span class="nf">send</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="nv">on</span><span class="p">:</span> <span class="n">req</span><span class="p">)</span>
            <span class="p">}</span>
            <span class="o">.</span><span class="nf">transform</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="p">())</span>
    <span class="p">}</span>

    <span class="c1">// ..</span>
<span class="p">}</span>
</code></pre>
<h3 id='handling-multiple-reset-flows' class='heading'>Handling multiple reset flows</h3>

<p>There might be cases where you would want to have multiple signers for multiple different reset password flows. One example could be to handle the regular reset password flow as well as automatically resetting a password when a user gets created. By implementing the <code>signer</code> function, you&rsquo;re able to handle this:</p>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">User</span><span class="p">:</span> <span class="kt">PasswordResettable</span> <span class="p">{</span>
    <span class="c1">// ...</span>

    <span class="kd">public</span> <span class="kd">enum</span> <span class="kt">MyResetPasswordContext</span><span class="p">:</span> <span class="kt">HasRequestResetPasswordContext</span> <span class="p">{</span>
        <span class="k">case</span> <span class="n">userRequestedToResetPassword</span>
        <span class="k">case</span> <span class="n">newUserWithoutPassword</span>

        <span class="kd">public</span> <span class="kd">static</span> <span class="kd">func</span> <span class="nf">requestResetPassword</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">MyResetPasswordContext</span> <span class="p">{</span>
            <span class="k">return</span> <span class="o">.</span><span class="n">userRequestedToResetPassword</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">func</span> <span class="nf">signer</span><span class="p">(</span>
        <span class="k">for</span> <span class="nv">context</span><span class="p">:</span> <span class="kt">MyResetPasswordContext</span><span class="p">,</span>
        <span class="n">on</span> <span class="nv">container</span><span class="p">:</span> <span class="kt">Container</span>
    <span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">ExpireableJWTSigner</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">resetConfig</span><span class="p">:</span> <span class="kt">ResetConfig</span><span class="o">&lt;</span><span class="kt">User</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">try</span> <span class="n">container</span><span class="o">.</span><span class="nf">make</span><span class="p">()</span> <span class="c1">// The default signer</span>
        <span class="k">let</span> <span class="nv">myConfig</span><span class="p">:</span> <span class="kt">MyConfig</span> <span class="o">=</span> <span class="k">try</span> <span class="n">container</span><span class="o">.</span><span class="nf">make</span><span class="p">()</span> <span class="c1">// Some project specific config that holds the extra signer</span>

        <span class="k">switch</span> <span class="n">context</span> <span class="p">{</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">userRequestedToResetPassword</span><span class="p">:</span> <span class="k">return</span> <span class="n">resetConfig</span><span class="o">.</span><span class="n">signer</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">newUserWithoutPassword</span><span class="p">:</span> <span class="k">return</span> <span class="n">myConfig</span><span class="o">.</span><span class="n">newUserSetPasswordSigner</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">// ..</span>
<span class="p">}</span>
</code></pre>

<blockquote>
<p>Please note that you need to implement your own <code>Context</code> if you want to handle multiple signers.</p>
</blockquote>
<h2 id='specifying-the-responses' class='heading'>Specifying the responses</h2>

<p>All endpoints and responses that Reset uses can be overwritten. Reset provides responses for the following cases:</p>

<ul>
<li>Form for requesting a reset password flow</li>
<li>Response for letting the user know that the reset password url has been sent</li>
<li>Form for resetting the password</li>
<li>Response for letting the user know that the password has been reset</li>
</ul>

<p>Here&rsquo;s a small example where the request to reset password should only be exposed through the API:</p>
<pre class="highlight swift"><code>
<span class="k">let</span> <span class="nv">customResponse</span> <span class="o">=</span> <span class="kt">ResetResponses</span><span class="p">(</span>
    <span class="nv">resetPasswordRequestForm</span><span class="p">:</span> <span class="p">{</span> <span class="n">req</span> <span class="k">in</span>
        <span class="k">return</span> <span class="k">try</span> <span class="kt">HTTPResponse</span><span class="p">(</span><span class="nv">status</span><span class="p">:</span> <span class="o">.</span><span class="n">notFound</span><span class="p">)</span><span class="o">.</span><span class="nf">encode</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="n">req</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="nv">resetPasswordUserNotified</span><span class="p">:</span> <span class="p">{</span> <span class="n">req</span> <span class="k">in</span>
        <span class="k">return</span> <span class="k">try</span> <span class="kt">HTTPResponse</span><span class="p">(</span><span class="nv">status</span><span class="p">:</span> <span class="o">.</span><span class="n">noContent</span><span class="p">)</span><span class="o">.</span><span class="nf">encode</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="n">req</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="nv">resetPasswordForm</span><span class="p">:</span> <span class="p">{</span> <span class="n">req</span><span class="p">,</span> <span class="n">user</span> <span class="k">in</span>
        <span class="k">return</span> <span class="k">try</span> <span class="n">req</span>
            <span class="o">.</span><span class="nf">make</span><span class="p">(</span><span class="kt">LeafRenderer</span><span class="o">.</span><span class="k">self</span><span class="p">)</span>
            <span class="o">.</span><span class="nf">render</span><span class="p">(</span><span class="s">"MyPathForShowingResetForm"</span><span class="p">)</span>
            <span class="o">.</span><span class="nf">encode</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="n">req</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="nv">resetPasswordSuccess</span><span class="p">:</span> <span class="p">{</span> <span class="n">req</span><span class="p">,</span> <span class="n">user</span> <span class="k">in</span>
        <span class="k">return</span> <span class="k">try</span> <span class="n">req</span>
            <span class="o">.</span><span class="nf">make</span><span class="p">(</span><span class="kt">LeafRenderer</span><span class="o">.</span><span class="k">self</span><span class="p">)</span>
            <span class="o">.</span><span class="nf">render</span><span class="p">(</span><span class="s">"MyPathForShowingResetPasswordSuccess"</span><span class="p">)</span>
            <span class="o">.</span><span class="nf">encode</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="n">req</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">)</span>

</code></pre>

<p>This instance can then be used when registering the provider as explained in <a href="#adding-the-provider">Adding the Provider</a>.</p>

<p>Alternatively, instead of passing in <code><a href="Structs/ResetResponses.html">ResetResponses</a></code> in the <code><a href="Structs/ResetConfig.html">ResetConfig</a></code>, one could pass in their own implementation of <code><a href="Protocols/ResetControllerType.html">ResetControllerType</a></code> for full customizability.</p>
<h2 id='credits' class='heading'>üèÜ Credits</h2>

<p>This package is developed and maintained by the Vapor team at <a href="https://www.nodesagency.com">Nodes</a>.
The package owner for this project is <a href="https://github.com/martinlasek">Martin</a>.</p>
<h2 id='license' class='heading'>üìÑ License</h2>

<p>This package is open-sourced software licensed under the <a href="http://opensource.org/licenses/MIT">MIT license</a></p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2019 <a class="link" href="" target="_blank" rel="external"></a>. All rights reserved. (Last updated: 2019-08-01)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ‚ô™‚ô´ v0.10.0</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
